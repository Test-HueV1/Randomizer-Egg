-- Simple GUI Menu Example
-- Place this LocalScript inside StarterGui

local Player = game.Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Clear old GUIs (if respawned)
if PlayerGui:FindFirstChild("CustomMenu") then
	PlayerGui.CustomMenu:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local ToggleButton = Instance.new("TextButton")
local Title = Instance.new("TextLabel")
local NotificationFrame = Instance.new("Frame")
local NotificationLabel = Instance.new("TextLabel")

-- ScreenGui setup
ScreenGui.Name = "CustomMenu"
ScreenGui.ResetOnSpawn = false -- keep GUI when respawning
ScreenGui.Parent = PlayerGui

-- Menu Frame
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
Frame.Position = UDim2.new(0.05, 0, 0.2, 0)
Frame.Size = UDim2.new(0, 200, 0, 300)
Frame.Visible = true -- default visible

-- Title at the top
Title.Parent = Frame
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
Title.Text = "Randomizer Egg"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20

-- Toggle Button (top-left corner of screen)
ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0, 80, 0, 40)
ToggleButton.Position = UDim2.new(0, 10, 0, 10)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
ToggleButton.Text = "Menu"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 18

-- Toggle functionality
ToggleButton.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
end)

-- Notification Frame (bottom-right corner)
NotificationFrame.Parent = ScreenGui
NotificationFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
NotificationFrame.BackgroundTransparency = 0.3
NotificationFrame.Size = UDim2.new(0, 250, 0, 50)
NotificationFrame.Position = UDim2.new(1, -260, 1, -60)
NotificationFrame.Visible = false

NotificationLabel.Parent = NotificationFrame
NotificationLabel.Size = UDim2.new(1, -10, 1, -10)
NotificationLabel.Position = UDim2.new(0, 5, 0, 5)
NotificationLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NotificationLabel.Font = Enum.Font.SourceSansBold
NotificationLabel.TextSize = 18
NotificationLabel.Text = ""

-- Notification function
local function showNotification(message)
	NotificationLabel.Text = message
	NotificationFrame.Visible = true

	-- Hide after 2 seconds
	task.delay(2, function()
		NotificationFrame.Visible = false
	end)
end

-- Function to create toggle buttons inside menu
local function createButton(name, text, order, callback)
	local btn = Instance.new("TextButton")
	btn.Name = name
	btn.Parent = Frame
	btn.BackgroundColor3 = Color3.fromRGB(200, 0, 0) -- default red
	btn.Size = UDim2.new(1, -10, 0, 40)
	btn.Position = UDim2.new(0, 5, 0, 45 + (order * 45))
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 18
	btn.Text = text

	-- store toggle state
	local toggled = false

	btn.MouseButton1Click:Connect(function()
		toggled = not toggled
		if toggled then
			btn.BackgroundColor3 = Color3.fromRGB(0, 200, 0) -- green
		else
			btn.BackgroundColor3 = Color3.fromRGB(200, 0, 0) -- red
		end

		callback(btn, toggled)
		showNotification(text .. " clicked!")
	end)

	return btn
end

-- Example ESP toggle
local espOn = false
createButton("ESP", "ESP: OFF", 0, function(btn, state)
	espOn = state
	btn.Text = "ESP: " .. (espOn and "ON ✅" or "OFF ❌")
	print("ESP Toggled:", espOn)
end)

-- Randomize Egg
createButton("RandomEgg", "Randomize Egg", 1, function(_, state)
	print("Egg randomized!", state)
end)

-- Auto Age
createButton("AutoAge", "Auto Age (hold pet)", 2, function(_, state)
	print("Auto Age triggered!", state)
end)

-- Mutation Reroll
createButton("MutReroll", "Mutation Reroll", 3, function(_, state)
	print("Mutation reroll clicked!", state)
end)

-- Toggle Mutation
createButton("ToggleMut", "Toggle Mutation", 4, function(_, state)
	print("Mutation toggled!", state)
end)
